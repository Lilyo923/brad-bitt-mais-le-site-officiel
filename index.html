<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Site en maintenance</title>
  <style>
    body {
      background-color: #222;
      color: #eee;
      font-family: Arial, sans-serif;
      height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      flex-direction: column;
    }
    h1 {
      font-size: 3em;
      margin-bottom: 0.5em;
    }
    p {
      font-size: 1.5em;
      color: #aaa;
    }
  </style>
</head>
<body>
  <h1>Site en maintenance.</h1>
  <p>Pas de panique, le site sera accessible d'ici quelques minutes.</p>

  <script>
(function() {
  // Date cible : 14 février 2026 à 9h25
  var maintenanceStart = new Date(2026, 1, 14, 9, 25, 0); // mois=1 (février)
  var maintenanceDurationMs = 5 * 60 * 1000; // 5 minutes en ms
  
  // Rafraîchit le calcul du temps toutes les secondes
  function checkMaintenance() {
    var now = new Date();
    var end = new Date(maintenanceStart.getTime() + maintenanceDurationMs);
    
    if (now >= maintenanceStart && now < end) {
      // Pendant la maintenance : affiche le compte à rebours
      if (!document.getElementById('maintenance-countdown')) {
        var countdownDiv = document.createElement('div');
        countdownDiv.id = 'maintenance-countdown';
        countdownDiv.style.marginTop = '2em';
        
        var label = document.createElement('p');
        label.id = 'maintenance-label';
        label.style.fontWeight = 'bold';
        label.textContent = 'Durée de la maintenance :';
        countdownDiv.appendChild(label);

        var timer = document.createElement('span');
        timer.id = 'maintenance-timer';
        timer.style.fontSize = '2em';
        countdownDiv.appendChild(timer);

        document.body.appendChild(countdownDiv);
      }
      
      var diff = end - now;
      var mins = Math.floor(diff / 60000);
      var secs = Math.floor((diff % 60000) / 1000);
      var timerElement = document.getElementById('maintenance-timer');
      timerElement.textContent = (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;
      
    } else if (now >= end && !document.getElementById('maintenance-completed')) {
      // Après la maintenance : affiche le message de fin
      var countdownDiv = document.getElementById('maintenance-countdown');
      if (countdownDiv) {
        countdownDiv.id = 'maintenance-completed';
        document.getElementById('maintenance-label').textContent = 'Le site a été mis à jour, vous pouvez dès à présent actualiser la page.';
        document.getElementById('maintenance-timer').style.display = 'none';
      }
    }
  }

  // Vérifie immédiatement
  checkMaintenance();
  
  // Puis vérifie toutes les secondes
  setInterval(checkMaintenance, 1000);
})();
  </script>
</body>
</html>
